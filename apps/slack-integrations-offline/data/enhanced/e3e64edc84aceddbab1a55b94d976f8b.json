{
    "id": "e3e64edc84aceddbab1a55b94d976f8b",
    "metadata": {
        "id": "e3e64edc84aceddbab1a55b94d976f8b",
        "url": "https://docs.zenml.io/deploying-zenml/deploying-zenml/custom-secret-stores",
        "title": "Custom secret stores | ZenML - Bridging the gap between ML & Ops",
        "properties": {
            "description": "Learning how to develop a custom secret store.",
            "keywords": null,
            "author": null,
            "og:title": "Custom secret stores | ZenML - Bridging the gap between ML & Ops",
            "og:description": "Learning how to develop a custom secret store.",
            "og:image": "https://docs.zenml.io/~gitbook/ogimage/LoIhWUYR5MiPPXP4IS4z",
            "twitter:card": "summary_large_image",
            "twitter:title": "Custom secret stores | ZenML - Bridging the gap between ML & Ops",
            "twitter:description": "Learning how to develop a custom secret store.",
            "twitter:image": "https://docs.zenml.io/~gitbook/ogimage/LoIhWUYR5MiPPXP4IS4z"
        }
    },
    "content": "`Ctrl``k`\n\nGitBook AssistantAsk\n\nProductResourcesGitHubStart free\n\nMore\n\n  * Documentation\n  * Learn\n  * ZenML Pro\n  * Stacks\n  * API Reference\n  * SDK Reference\n  * Changelog\n\n\n\nGitBook Assistant\n\nGitBook Assistant\n\nWorking...Thinking...\n\nGitBook Assistant\n\n##### Good evening\n\nI'm here to help you with the docs.\n\nWhat is this page about?What should I read next?Can you give an example?\n\n`Ctrl``i`\n\nAI Based on your context\n\nSend\n\n  * Getting Started\n\n    * Welcome to ZenML\n    * Installation\n    * Hello World\n    * Your First AI Pipeline\n    * Core Concepts\n    * System Architecture\n  * Deploying ZenML\n\n    * Deploy\n\n      * Deploy with Docker\n      * Deploy with Helm\n      * Deploy using HuggingFace Spaces\n      * Deploy with custom images\n      * Secret management\n      * Custom secret stores\n\n    * Connect\n    * Manage\n  * Concepts\n\n    * Steps & Pipelines\n    * Artifacts\n    * Stack & Components\n    * Service Connectors\n    * Pipeline Snapshots\n    * Pipeline Deployments\n    * Containerization\n    * Code Repositories\n    * Secrets\n    * Environment Variables\n    * Tags\n    * Metadata\n    * Models\n    * Dashboard\n    * Templates\n  * Reference\n\n    * Community & content\n    * Environment Variables\n    * MCP Docs & llms.txt\n    * FAQ\n    * Global settings\n    * Legacy docs\n\n\n\nPowered by GitBook\n\nOn this page\n\nWas this helpful?\n\nGitBook AssistantAsk\n\n  1. Deploying ZenML\n  2. Deploy\n\n\n\n# Custom secret stores\n\nLearning how to develop a custom secret store.\n\nThe secrets store acts as the one-stop shop for all the secrets to which your pipeline or stack components might need access. It is responsible for storing, updating and deleting _only the secrets values_ for ZenML secrets, while the ZenML secret metadata is stored in the SQL database. The secrets store interface implemented by all available secrets store back-ends is defined in the `zenml.zen_stores.secrets_stores.secrets_store_interface` core module and looks more or less like this:\n\nCopy```\nfrom abc import ABC, abstractmethod\nfrom typing import Dict\nfrom uuid import UUID\nclassSecretsStoreInterface(ABC):\n\"\"\"ZenML secrets store interface.\n  All ZenML secrets stores must implement the methods in this interface.\n  \"\"\"\n# ---------------------------------\n# Initialization and configuration\n# ---------------------------------\n@abstractmethod\ndef_initialize(self) ->None:\n\"\"\"Initialize the secrets store.\n    This method is called immediately after the secrets store is created.\n    It should be used to set up the backend (database, connection etc.).\n    \"\"\"\n# ---------\n# Secrets\n# ---------\n@abstractmethod\ndefstore_secret_values(\nself,\nsecret_id: UUID,\nsecret_values: Dict[str,str],\n  ) ->None:\n\"\"\"Store secret values for a new secret.\n    Args:\n      secret_id: ID of the secret.\n      secret_values: Values for the secret.\n    \"\"\"\n@abstractmethod\ndefget_secret_values(self,secret_id: UUID) -> Dict[str,str]:\n\"\"\"Get the secret values for an existing secret.\n    Args:\n      secret_id: ID of the secret.\n    Returns:\n      The secret values.\n    Raises:\n      KeyError: if no secret values for the given ID are stored in the\n        secrets store.\n    \"\"\"\n@abstractmethod\ndefupdate_secret_values(\nself,\nsecret_id: UUID,\nsecret_values: Dict[str,str],\n  ) ->None:\n\"\"\"Updates secret values for an existing secret.\n    Args:\n      secret_id: The ID of the secret to be updated.\n      secret_values: The new secret values.\n    Raises:\n      KeyError: if no secret values for the given ID are stored in the\n        secrets store.\n    \"\"\"\n@abstractmethod\ndefdelete_secret_values(self,secret_id: UUID) ->None:\n\"\"\"Deletes secret values for an existing secret.\n    Args:\n      secret_id: The ID of the secret.\n    Raises:\n      KeyError: if no secret values for the given ID are stored in the\n        secrets store.\n    \"\"\"\n```\n\n\nThis is a slimmed-down version of the real interface which aims to highlight the abstraction layer. In order to see the full definition and get the complete docstrings, please check the SDK docs .\n\n## \n\nBuild your own custom secrets store\n\nIf you want to create your own custom secrets store implementation, you can follow the following steps:\n\n  1. Create a class that inherits from the `zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore` base class and implements the `abstractmethod`s shown in the interface above. Use `SecretsStoreType.CUSTOM` as the `TYPE` value for your secrets store class.\n\n  2. If you need to provide any configuration, create a class that inherits from the `SecretsStoreConfiguration` class and add your configuration parameters there. Use that as the `CONFIG_TYPE` value for your secrets store class.\n\n  3. To configure the ZenML server to use your custom secrets store, make sure your code is available in the container image that is used to run the ZenML server. Then, use environment variables or helm chart values to configure the ZenML server to use your custom secrets store, as covered in the deployment guide.\n\n\n\n\nPreviousSecret managementNextConnect\n\nLast updated 5 months ago\n\nWas this helpful?\n",
    "summary": "## TL;DR Summary of Custom Secret Stores in ZenML\n\n### Overview\nCustom secret stores in ZenML provide a centralized solution for managing secrets required by pipeline or stack components. The secrets store handles the storage, updating, and deletion of secret values, while metadata is stored in an SQL database.\n\n### Secrets Store Interface\nThe `SecretsStoreInterface` defines essential methods that all ZenML secrets stores must implement:\n- **Initialization**: `initialize()` to set up the backend.\n- **Secrets Management**:\n  - `store_secret_values(secret_id, secret_values)`: Store new secret values.\n  - `get_secret_values(secret_id)`: Retrieve existing secret values.\n  - `update_secret_values(secret_id, secret_values)`: Update existing secret values.\n  - `delete_secret_values(secret_id)`: Delete secret values.\n\n### Building a Custom Secrets Store\n1. Inherit from `BaseSecretsStore` and implement the required methods.\n2. Create a configuration class inheriting from `SecretsStoreConfiguration` for any parameters.\n3. Ensure the custom store code is included in the ZenML server container and configure it via environment variables or Helm chart values.\n\nFor complete documentation, refer to the SDK docs.",
    "content_quality_score": null,
    "child_urls": [
        "https://docs.zenml.io/",
        "https://zenml.io",
        "https://zenml.io/slack",
        "https://cloud.zenml.io/signup",
        "https://docs.zenml.io/user-guides",
        "https://docs.zenml.io/pro",
        "https://docs.zenml.io/stacks",
        "https://docs.zenml.io/api-reference",
        "https://docs.zenml.io/sdk-reference",
        "https://docs.zenml.io/changelog",
        "https://docs.zenml.io/getting-started/installation",
        "https://docs.zenml.io/getting-started/hello-world",
        "https://docs.zenml.io/getting-started/your-first-ai-pipeline",
        "https://docs.zenml.io/getting-started/core-concepts",
        "https://docs.zenml.io/getting-started/system-architectures",
        "https://docs.zenml.io/deploying-zenml/deploying-zenml",
        "https://docs.zenml.io/deploying-zenml/deploying-zenml/deploy-with-docker",
        "https://docs.zenml.io/deploying-zenml/deploying-zenml/deploy-with-helm",
        "https://docs.zenml.io/deploying-zenml/deploying-zenml/deploy-using-huggingface-spaces",
        "https://docs.zenml.io/deploying-zenml/deploying-zenml/deploy-with-custom-image",
        "https://docs.zenml.io/deploying-zenml/deploying-zenml/secret-management",
        "https://docs.zenml.io/deploying-zenml/deploying-zenml/custom-secret-stores",
        "https://docs.zenml.io/deploying-zenml/connecting-to-zenml",
        "https://docs.zenml.io/deploying-zenml/upgrade-zenml-server",
        "https://docs.zenml.io/concepts/steps_and_pipelines",
        "https://docs.zenml.io/concepts/artifacts",
        "https://docs.zenml.io/concepts/stack_components",
        "https://docs.zenml.io/concepts/service_connectors",
        "https://docs.zenml.io/concepts/snapshots",
        "https://docs.zenml.io/concepts/deployment",
        "https://docs.zenml.io/concepts/containerization",
        "https://docs.zenml.io/concepts/code-repositories",
        "https://docs.zenml.io/concepts/secrets",
        "https://docs.zenml.io/concepts/environment-variables",
        "https://docs.zenml.io/concepts/tags",
        "https://docs.zenml.io/concepts/metadata",
        "https://docs.zenml.io/concepts/models",
        "https://docs.zenml.io/concepts/dashboard-features",
        "https://docs.zenml.io/concepts/templates",
        "https://docs.zenml.io/reference/community-and-content",
        "https://docs.zenml.io/reference/environment-variables",
        "https://docs.zenml.io/reference/llms-txt",
        "https://docs.zenml.io/reference/faq",
        "https://docs.zenml.io/reference/global-settings",
        "https://docs.zenml.io/reference/legacy-docs",
        "https://docs.zenml.io/deploying-zenml",
        "https://sdkdocs.zenml.io/latest/core_code_docs/core-zen_stores.html#zenml.zen_stores.secrets_stores",
        "https://docs.zenml.io/deploying-zenml/deploying-zenml/custom-secret-stores#build-your-own-custom-secrets-store",
        "https://github.com/zenml-io/zenml",
        "https://www.gitbook.com/?utm_source=content&utm_medium=trademark&utm_campaign=5aBlTJNbVDkrxJp7J1J9"
    ]
}