{
    "id": "8ca4edf94aca0cbd18c2b37fdedc9b0d",
    "metadata": {
        "id": "8ca4edf94aca0cbd18c2b37fdedc9b0d",
        "url": "https://docs.zenml.io/deploying-zenml/upgrade-zenml-server/troubleshoot-your-deployed-server",
        "title": "Troubleshoot your ZenML server | ZenML - Bridging the gap between ML & Ops",
        "properties": {
            "description": "Troubleshooting tips for your ZenML deployment",
            "keywords": null,
            "author": null,
            "og:title": "Troubleshoot your ZenML server | ZenML - Bridging the gap between ML & Ops",
            "og:description": "Troubleshooting tips for your ZenML deployment",
            "og:image": "https://docs.zenml.io/~gitbook/ogimage/QiqtrSi31mIa7e0fZwZX",
            "twitter:card": "summary_large_image",
            "twitter:title": "Troubleshoot your ZenML server | ZenML - Bridging the gap between ML & Ops",
            "twitter:description": "Troubleshooting tips for your ZenML deployment",
            "twitter:image": "https://docs.zenml.io/~gitbook/ogimage/QiqtrSi31mIa7e0fZwZX"
        }
    },
    "content": "`Ctrl``k`\n\nGitBook AssistantAsk\n\nProductResourcesGitHubStart free\n\nMore\n\n  * Documentation\n  * Learn\n  * ZenML Pro\n  * Stacks\n  * API Reference\n  * SDK Reference\n  * Changelog\n\n\n\nGitBook Assistant\n\nGitBook Assistant\n\nWorking...Thinking...\n\nGitBook Assistant\n\n##### Good evening\n\nI'm here to help you with the docs.\n\nWhat is this page about?What should I read next?Can you give an example?\n\n`Ctrl``i`\n\nAI Based on your context\n\nSend\n\n  * Getting Started\n\n    * Welcome to ZenML\n    * Installation\n    * Hello World\n    * Your First AI Pipeline\n    * Core Concepts\n    * System Architecture\n  * Deploying ZenML\n\n    * Deploy\n    * Connect\n    * Manage\n\n      * Best practices for upgrading\n      * Using ZenML server in production\n      * Troubleshoot your ZenML server\n      * Migration guide\n\n  * Concepts\n\n    * Steps & Pipelines\n    * Artifacts\n    * Stack & Components\n    * Service Connectors\n    * Pipeline Snapshots\n    * Pipeline Deployments\n    * Containerization\n    * Code Repositories\n    * Secrets\n    * Environment Variables\n    * Tags\n    * Metadata\n    * Models\n    * Dashboard\n    * Templates\n  * Reference\n\n    * Community & content\n    * Environment Variables\n    * MCP Docs & llms.txt\n    * FAQ\n    * Global settings\n    * Legacy docs\n\n\n\nPowered by GitBook\n\nOn this page\n\n  * Viewing logs\n  * Fixing database connection problems\n  * Fixing database initialization problems\n\n\n\nWas this helpful?\n\nGitBook AssistantAsk\n\n  1. Deploying ZenML\n  2. Manage\n\n\n\n# Troubleshoot your ZenML server\n\nTroubleshooting tips for your ZenML deployment\n\nIn this document, we will go over some common issues that you might face when deploying ZenML and how to solve them.\n\n## \n\nViewing logs\n\nAnalyzing logs is a great way to debug issues. Depending on whether you have a Kubernetes (using Helm or `zenml deploy`) or a Docker deployment, you can view the logs in different ways.\n\nKubernetes\n\nDocker\n\nIf you are using Kubernetes, you can view the logs of the ZenML server using the following method:\n\n  * Check all pods that are running your ZenML deployment.\n\n\n\n\nCopy```\nkubectl-n<KUBERNETES_NAMESPACE>getpods\n```\n\n\n  * If you see that the pods aren't running, you can use the command below to get the logs for all pods at once.\n\n\n\n\nCopy```\nkubectl-n<KUBERNETES_NAMESPACE>logs-lapp.kubernetes.io/name=zenml\n```\n\n\nNote that the error can either be from the `zenml-db-init` container that connects to the MySQL database or from the `zenml` container that runs the server code. If the get pods command shows that the pod is failing in the `Init` state then use `zenml-db-init` as the container name, otherwise use `zenml`.\n\nCopy```\nkubectl-n<KUBERNETES_NAMESPACE>logs-lapp.kubernetes.io/name=zenml-c<CONTAINER_NAME>\n```\n\n\nYou can also use the `--tail` flag to limit the number of lines to show or the `--follow` flag to follow the logs in real-time.\n\nIf you are using Docker, you can view the logs of the ZenML server using the following method:\n\n  * If you used the `zenml login --local --docker` CLI command to deploy the Docker ZenML server, you can check the logs with the command:\n\nCopy```\nzenmllogs-f\n```\n\n\n  * If you used the `docker run` command to manually deploy the Docker ZenML server, you can check the logs with the command:\n\nCopy```\ndockerlogszenml-f\n```\n\n\n  * If you used the `docker compose` command to manually deploy the Docker ZenML server, you can check the logs with the command:\n\nCopy```\ndockercompose-pzenmllogs-f\n```\n\n\n\n\n\n## \n\nFixing database connection problems\n\nIf you are using a MySQL database, you might face issues connecting to it. The logs from the `zenml-db-init` container should give you a good idea of what the problem is. Here are some common issues and how to fix them:\n\n  * If you see an error like `ERROR 1045 (28000): Access denied for user <USER> using password YES`, it means that the username or password is incorrect. Make sure that the username and password are correctly set for whatever deployment method you are using.\n\n  * If you see an error like `ERROR 2003 (HY000): Can't connect to MySQL server on <HOST> (<IP>)`, it means that the host is incorrect. Make sure that the host is correctly set for whatever deployment method you are using.\n\n\n\n\nYou can test the connection and the credentials by running the following command from your machine:\n\nCopy```\nmysql -h <HOST> -u <USER> -p\n```\n\n\nIf you are using a Kubernetes deployment, you can use the `kubectl port-forward` command to forward the MySQL port to your local machine. This will allow you to connect to the database from your machine.\n\n## \n\nFixing database initialization problems\n\nIf youâ€™ve migrated from a newer ZenML version to an older version and see errors like `Revision not found` in your `zenml-db-init` logs, one way out is to drop the database and create a new one with the same name.\n\n  * Log in to your MySQL instance.\n\nCopy```\nmysql -h <HOST> -u <NAME> -p\n```\n\n\n  * Drop the database for the server.\n\nCopy```\ndrop database <NAME>;\n```\n\n\n  * Create the database with the same name.\n\nCopy```\ncreate database <NAME>;\n```\n\n\n  * Restart the Kubernetes pods or the docker container running your server to trigger the database initialization again.\n\n\n\n\nPreviousUsing ZenML server in productionNextMigration guide\n\nLast updated 8 months ago\n\nWas this helpful?\n",
    "summary": "## Troubleshoot Your ZenML Server\n\n### Viewing Logs\n- **Kubernetes**: Use `kubectl -n <KUBERNETES_NAMESPACE> get pods` to check pod status. For logs, use:\n  ```bash\n  kubectl -n <KUBERNETES_NAMESPACE> logs -l app.kubernetes.io/name=zenml\n  ```\n  Specify container name if needed.\n  \n- **Docker**: \n  - For local Docker: `zenml logs -f`\n  - For manual Docker run: `docker logs zenml -f`\n  - For Docker Compose: `docker-compose -p zenml logs -f`\n\n### Fixing Database Connection Problems\n- Common MySQL errors:\n  - `ERROR 1045`: Incorrect username/password.\n  - `ERROR 2003`: Incorrect host.\n- Test connection with:\n  ```bash\n  mysql -h <HOST> -u <USER> -p\n  ```\n- Use `kubectl port-forward` for Kubernetes to connect locally.\n\n### Fixing Database Initialization Problems\n- If migrating to an older ZenML version, drop and recreate the database:\n  ```bash\n  mysql -h <HOST> -u <NAME> -p\n  drop database <NAME>;\n  create database <NAME>;\n  ```\n- Restart pods or Docker container to reinitialize the database.",
    "content_quality_score": null,
    "child_urls": [
        "https://docs.zenml.io/",
        "https://zenml.io",
        "https://zenml.io/slack",
        "https://cloud.zenml.io/signup",
        "https://docs.zenml.io/user-guides",
        "https://docs.zenml.io/pro",
        "https://docs.zenml.io/stacks",
        "https://docs.zenml.io/api-reference",
        "https://docs.zenml.io/sdk-reference",
        "https://docs.zenml.io/changelog",
        "https://docs.zenml.io/getting-started/installation",
        "https://docs.zenml.io/getting-started/hello-world",
        "https://docs.zenml.io/getting-started/your-first-ai-pipeline",
        "https://docs.zenml.io/getting-started/core-concepts",
        "https://docs.zenml.io/getting-started/system-architectures",
        "https://docs.zenml.io/deploying-zenml/deploying-zenml",
        "https://docs.zenml.io/deploying-zenml/connecting-to-zenml",
        "https://docs.zenml.io/deploying-zenml/upgrade-zenml-server",
        "https://docs.zenml.io/deploying-zenml/upgrade-zenml-server/best-practices-upgrading-zenml",
        "https://docs.zenml.io/deploying-zenml/upgrade-zenml-server/using-zenml-server-in-prod",
        "https://docs.zenml.io/deploying-zenml/upgrade-zenml-server/troubleshoot-your-deployed-server",
        "https://docs.zenml.io/deploying-zenml/upgrade-zenml-server/migration-guide",
        "https://docs.zenml.io/concepts/steps_and_pipelines",
        "https://docs.zenml.io/concepts/artifacts",
        "https://docs.zenml.io/concepts/stack_components",
        "https://docs.zenml.io/concepts/service_connectors",
        "https://docs.zenml.io/concepts/snapshots",
        "https://docs.zenml.io/concepts/deployment",
        "https://docs.zenml.io/concepts/containerization",
        "https://docs.zenml.io/concepts/code-repositories",
        "https://docs.zenml.io/concepts/secrets",
        "https://docs.zenml.io/concepts/environment-variables",
        "https://docs.zenml.io/concepts/tags",
        "https://docs.zenml.io/concepts/metadata",
        "https://docs.zenml.io/concepts/models",
        "https://docs.zenml.io/concepts/dashboard-features",
        "https://docs.zenml.io/concepts/templates",
        "https://docs.zenml.io/reference/community-and-content",
        "https://docs.zenml.io/reference/environment-variables",
        "https://docs.zenml.io/reference/llms-txt",
        "https://docs.zenml.io/reference/faq",
        "https://docs.zenml.io/reference/global-settings",
        "https://docs.zenml.io/reference/legacy-docs",
        "https://docs.zenml.io/deploying-zenml/upgrade-zenml-server/troubleshoot-your-deployed-server#viewing-logs",
        "https://docs.zenml.io/deploying-zenml/upgrade-zenml-server/troubleshoot-your-deployed-server#fixing-database-connection-problems",
        "https://docs.zenml.io/deploying-zenml/upgrade-zenml-server/troubleshoot-your-deployed-server#fixing-database-initialization-problems",
        "https://docs.zenml.io/deploying-zenml",
        "https://github.com/zenml-io/zenml",
        "https://www.gitbook.com/?utm_source=content&utm_medium=trademark&utm_campaign=5aBlTJNbVDkrxJp7J1J9"
    ]
}